{"version":3,"sources":["../../../utils/portal/context.js","../../../utils/portal/slot.js","../../../utils/portal/portal.js","../../../utils/portal/core.js","states/title.js","screens sync nonrecursive //.js","screens/404.js","screens/edit.js","screens/list.js","../../../utils/redirect/index.js","../../../utils/context/combineProviders.js","../../../utils/localstorage/config.js","../../../utils/localstorage/useLocalStorage.js","../../../utils/theme/core.js","../../../utils/theme/provider.js","../../../components/layout/Navbar.js","../../../components/layout/App.js","components/Settings/index.js","config/routes.js","App.js","serviceWorker.js","index.js"],"names":["makeContext","defaultValue","Context","createContext","Provider","children","useState","ref","setRef","value","usePortal","useContext","makeSlot","Component","useRef","useEffect","current","createElement","makePortalComponent","createPortal","makePortal","Portal","Slot","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","FourOhFourScreen","route","EditScreen","ListScreen","useRedirect","history","useHistory","location","useLocation","ran","setRan","redirect","useMemo","rSet","search","substr","split","it","find","replace","RedirectComponent","CombineProviders","contexts","reverse","reduce","prev","flat","ctx","props","_shouldLog","process","_prefix","groupCollapsed","console","groupEnd","log","logGroup","message","key","rest","forEach","Array","isArray","makeMatcher","pf","RegExp","join","makeKey","isKey","match","logState","useLocalStorage","initialLoad","setInitialLoad","undefined","setValue","val","localStorage","getItem","JSON","parse","shouldUpdate","existingValue","removeItem","setItem","stringify","handler","storageArea","k","oldValue","newValue","isValidKey","isLocalStorage","isRightKey","nv","window","addEventListener","removeEventListener","ThemeManagerContext","AppThemeProvider","data","light","dark","prefersDarkMode","useMediaQuery","defaultTheme","themeName","setThemeName","changeTheme","useCallback","t","includes","toggleTheme","theme","createMuiTheme","palette","type","useThemeProvider","ThemeProvider","AppBar","withStyles","root","transition","transitions","create","background","augmentColor","main","default","primary","AppBarBase","Container","display","justifyContent","ContainerBase","Navbar","position","Toolbar","useStyles","makeStyles","width","height","overflowX","overflowY","color","text","AppWrapper","classes","className","Button","contrastText","ButtonBase","Settings","onClick","Brightness4","Brightness7","require","routes","App","Router","basename","Typography","variant","filter","exact","path","component","Boolean","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.e151e98e.chunk.js","sourcesContent":["import React, {\n  createContext,\n  useContext,\n  useState,\n} from 'react';\n\nexport const makeContext = (defaultValue = null) => {\n  const Context = createContext(defaultValue);\n  const Provider = ({ children }) => {\n    const [ref, setRef] = useState(defaultValue);\n    return (\n      <Context.Provider value={({ ref, setRef })}>\n        {children}\n      </Context.Provider>\n    );\n  };\n  const usePortal = () => useContext(Context);\n  return {\n    Provider,\n    Context,\n    usePortal,\n  };\n};\n\nexport default makeContext;\n","import { createElement, useRef, useEffect } from 'react';\n\nexport const makeSlot = (usePortal) => {\n  const PortalSlot = ({ Component = 'div' }) => {\n    const ref = useRef();\n    const { setRef } = usePortal();\n    useEffect(\n      () => setRef(ref.current),\n      [ref, setRef],\n    );\n    return createElement(Component, { ref });\n  };\n  return PortalSlot;\n};\n\nexport default makeSlot;\n","import { createPortal } from 'react-dom';\n\nexport const makePortalComponent = (usePortal) => {\n  const Portal = ({ children }) => {\n    const { ref } = usePortal();\n    if (!ref) {\n      return null;\n    }\n    return createPortal(children, ref);\n  };\n  return Portal;\n};\n\nexport default makePortalComponent;\n","import { makePortalComponent } from './portal';\nimport { makeSlot } from './slot';\nimport { makeContext } from './context';\n\nexport const makePortal = (defaultValue = null) => {\n  const { Provider, Context, usePortal } = makeContext(defaultValue);\n  const Portal = makePortalComponent(usePortal);\n  const Slot = makeSlot(usePortal);\n  return {\n    Provider,\n    Context,\n    Portal,\n    Slot,\n  };\n};\n\nexport default makePortal;\n","import { makePortal } from '@la/portal';\n\nexport const {\n  Provider,\n  Portal,\n  Context,\n  Slot,\n} = makePortal();\n","var map = {\n\t\"./404.js\": 61,\n\t\"./edit.js\": 62,\n\t\"./list.js\": 63\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 60;","import React from 'react';\nimport { Portal } from '../states/title';\n\nexport const FourOhFourScreen = () => (\n  <>\n    <Portal>Error: Not Found!</Portal>\n    <h1>404</h1>\n  </>\n);\n\nexport default FourOhFourScreen;\n","import React from 'react';\nimport { Portal } from '../states/title';\n\nexport const route = '/edit';\nexport const EditScreen = () => (\n  <>\n    <Portal>Edit Screen</Portal>\n    <h1>Edit</h1>\n  </>\n);\n\nexport default EditScreen;\n","import React from 'react';\nimport { Portal } from '../states/title';\n\nexport const route = '/';\nexport const ListScreen = () => (\n  <>\n    <Portal>Layouts List</Portal>\n    <h1>List</h1>\n  </>\n);\n\nexport default ListScreen;\n","import { useEffect, useState, useMemo } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nexport const useRedirect = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const [ran, setRan] = useState(false);\n  const redirect = useMemo(\n    () => {\n      if (location) {\n        const rSet = location.search\n          .substr(1)\n          .split('&')\n          .map((it) => it.split('='))\n          .find(([it]) => it === 'r');\n        return rSet ? rSet[1] : null;\n      }\n      return undefined;\n    },\n    [location.search],\n  );\n  useEffect(\n    () => {\n      if (history && redirect && !ran) {\n        setRan(true);\n        history.replace(redirect);\n      }\n    },\n    [history, redirect, ran, setRan],\n  );\n};\n\nexport const RedirectComponent = () => {\n  useRedirect();\n  return null;\n};\n\nexport default useRedirect;\n","import { createElement } from 'react';\n\nexport const CombineProviders = ({ children, contexts }) => contexts.reverse().reduce(\n  (prev, it) => {\n    const [ctx, props] = [it, {}].flat();\n    return createElement(ctx, { children: prev, ...props });\n  },\n  children,\n);\n\nexport default CombineProviders;\n","/* eslint-disable no-underscore-dangle */\n\nlet _shouldLog = process.env.NODE_ENV === 'development';\nexport const enableLog = () => { _shouldLog = true; };\nexport const disableLog = () => { _shouldLog = false; };\nexport const shouldLog = () => _shouldLog;\n\nlet _prefix = 'app';\nexport const setPrefix = (value) => { _prefix = `${value}`; };\nexport const prefix = () => _prefix;\n\n// eslint-disable-next-line no-console\nexport const groupCollapsed = (...args) => _shouldLog && console.groupCollapsed(...args);\n// eslint-disable-next-line no-console\nexport const groupEnd = (...args) => _shouldLog && console.groupEnd(...args);\n// eslint-disable-next-line no-console\nexport const log = (...args) => _shouldLog && console.log(...args);\n\nexport const logGroup = (\n  message,\n  key,\n  ...rest\n) => {\n  groupCollapsed(`${message} %c${key}`, 'color: grey; font-size: 0.9em');\n  rest.forEach((it) => {\n    if (Array.isArray(it)) {\n      log(...it);\n    } else {\n      log(it);\n    }\n  });\n  groupEnd();\n};\n\nconst makeMatcher = (pf) => new RegExp(['^', _prefix, ':', pf].join(''));\nexport const makeKey = (key, pf) => [_prefix, [pf, key].join('')].join(':');\nexport const isKey = (key, pf) => key.match(makeMatcher(pf));\nexport const stripKey = (key, pf) => key.replace(makeMatcher(pf), '');\n\nexport const logState = (message, key, value) => {\n  logGroup(\n    message,\n    key,\n    [`Key: %c${key}`, 'color: blue; text-decoration: underline'],\n    [\n      `LocalStorage Key: %c${[_prefix, key].join(':')}`,\n      'color: blue; text-decoration: underline',\n    ],\n    ['Value:', value],\n  );\n};\n","import {\n  useState,\n  useEffect,\n} from 'react';\n\nimport {\n  logGroup,\n  logState,\n  makeKey,\n  isKey,\n} from './config';\n\nexport const useLocalStorage = (\n  key,\n  defaultValue,\n) => {\n  const [initialLoad, setInitialLoad] = useState(false);\n  const [value, setValue] = useState(undefined);\n  useEffect(() => {\n    if (!initialLoad) {\n      setInitialLoad(true);\n      const val = localStorage.getItem(makeKey(key));\n      if (val) {\n        try {\n          logState('⚙ LocalStorage Get', key, val);\n          setValue(JSON.parse(val));\n        } catch {\n          logState('❌ Could not parse LS data', key, val);\n          setValue(defaultValue);\n        }\n      } else {\n        setValue(defaultValue);\n      }\n    }\n  }, [initialLoad, key, defaultValue]);\n  useEffect(() => {\n    if (!initialLoad) {\n      return undefined;\n    }\n    let shouldUpdate = true;\n    try {\n      const existingValue = localStorage.getItem(makeKey(key));\n      if (existingValue && JSON.parse(existingValue) === value) {\n        shouldUpdate = false;\n      }\n    } finally {\n      if (shouldUpdate) {\n        if (value === null) {\n          logState('⚙ LocalStorage Remove', key, value);\n          localStorage.removeItem(makeKey(key));\n        } else {\n          logState('⚙ LocalStorage Set', key, value);\n          localStorage.setItem(makeKey(key), JSON.stringify(value));\n        }\n      }\n    }\n    return undefined;\n  }, [key, value]);\n  useEffect(() => {\n    const handler = ({\n      storageArea,\n      key: k,\n      oldValue,\n      newValue,\n    }) => {\n      const isValidKey = isKey(k);\n      const isLocalStorage = storageArea === localStorage;\n      const isRightKey = k === makeKey(key);\n      if (!(isLocalStorage && isValidKey && isRightKey)) {\n        return undefined;\n      }\n      try {\n        const [ov, nv] = [\n          JSON.parse(oldValue),\n          JSON.parse(newValue),\n        ];\n        logGroup(\n          '⚙ LocalStorage Event',\n          key,\n          [`Old Value: %c${ov}`, 'color: red; text-decoration: underline'],\n          [`New Value: %c${nv}`, 'color: green; text-decoration: underline'],\n        );\n        setValue(nv);\n      } catch (e) {\n        logState('❌ Could not parse LS data from Event', key, newValue);\n      }\n      return undefined;\n    };\n    window.addEventListener('storage', handler);\n    return () => window.removeEventListener('storage', handler);\n  }, [setValue, key]);\n  return [value, setValue];\n};\n\nexport default useLocalStorage;\n","import {\n  useMemo,\n  useCallback,\n  createContext,\n  useContext,\n} from 'react';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { useLocalStorage } from '@la/localstorage';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nexport const useThemeProvider = ({\n  light = {},\n  dark = {},\n} = {}) => {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const defaultTheme = useMemo(\n    () => (prefersDarkMode ? 'dark' : 'light'),\n    [prefersDarkMode, 'dark', 'light'],\n  );\n\n  const [themeName, setThemeName] = useLocalStorage('theme', defaultTheme);\n  const changeTheme = useCallback(\n    (t) => (['dark', 'light'].includes(t) && setThemeName(t)),\n    [setThemeName],\n  );\n  const toggleTheme = useCallback(\n    () => setThemeName((t) => (t === 'dark' ? 'light' : 'dark')),\n    [setThemeName],\n  );\n\n  const theme = useMemo(\n    () => createMuiTheme(\n      themeName === 'dark' ? {\n        ...dark,\n        palette: { ...dark?.palette ?? {}, type: 'dark' },\n      } : {\n        ...light,\n        palette: { ...light?.palette ?? {}, type: 'light' },\n      },\n    ),\n    [themeName],\n  );\n\n  return {\n    theme,\n    themeName,\n    changeTheme,\n    toggleTheme,\n  };\n};\n\nexport const ThemeManagerContext = createContext('light');\n\nexport const useTheme = () => useContext(ThemeManagerContext);\n","import React from 'react';\nimport { ThemeProvider } from '@material-ui/core';\nimport { ThemeManagerContext, useThemeProvider } from './core';\n\nexport const AppThemeProvider = ({ children }) => {\n  const data = useThemeProvider();\n  return (\n    <ThemeManagerContext.Provider value={data}>\n      <ThemeProvider theme={data.theme}>\n        {children}\n      </ThemeProvider>\n    </ThemeManagerContext.Provider>\n  );\n};\n\nexport default AppThemeProvider;\n","import React from 'react';\n\nimport {\n  AppBar as AppBarBase,\n  Toolbar,\n  Container as ContainerBase,\n} from '@material-ui/core';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nconst AppBar = withStyles((theme) => ({\n  root: {\n    transition: theme.transitions.create(),\n    background: theme.palette.type === 'dark'\n      ? theme.palette.augmentColor({\n        main: theme.palette.background.default,\n      }).light\n      : theme.palette.primary.dark,\n  },\n}))(AppBarBase);\n\nconst Container = withStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n})(ContainerBase);\n\nexport const Navbar = ({ children }) => (\n  <AppBar position=\"static\">\n    <Toolbar>\n      <Container>\n        {children}\n      </Container>\n    </Toolbar>\n  </AppBar>\n);\n\nexport default Navbar;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    background: theme.palette.background.default,\n    transition: theme.transitions.create(),\n    width: '100vw',\n    height: '100vh',\n    overflowX: 'none',\n    overflowY: 'auto',\n    color: theme.palette.text.primary,\n  },\n}));\n\nexport const AppWrapper = ({ children }) => {\n  const classes = useStyles();\n  return (\n    <section className={classes.root}>\n      {children}\n    </section>\n  );\n};\n\nexport default AppWrapper;\n","import React from 'react';\n\nimport { Button as ButtonBase } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { useTheme } from '@la/theme';\n\nimport { Brightness4, Brightness7 } from '@material-ui/icons';\n\nconst Button = withStyles((theme) => ({\n  root: {\n    color: theme.palette.primary.contrastText,\n  },\n}))(ButtonBase);\n\nexport const Settings = () => {\n  const { themeName, toggleTheme } = useTheme();\n  return (\n    <div>\n      <Button onClick={toggleTheme}>\n        {themeName === 'dark'\n          ? <Brightness4 />\n          : <Brightness7 />}\n      </Button>\n    </div>\n  );\n};\n\nexport default Settings;\n","const ctx = require.context('../screens', false, /\\.js/);\nconst files = ctx.keys();\nconst routes = files.reduce(\n  (prev, it) => {\n    const { default: Component, route } = ctx(it);\n    const id = it.match(/\\/([^.]+)\\.js$/)[1];\n    return [prev, { id, Component, route }].flat();\n  },\n  [],\n);\n\nexport default routes;\n","import React from 'react';\n\nimport { RedirectComponent } from '@la/redirect';\nimport { CombineProviders } from '@la/context';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { AppThemeProvider } from '@la/theme';\n\nimport { AppWrapper, Navbar } from '@la/layout';\nimport { Typography } from '@material-ui/core';\n\nimport { Settings } from './components/Settings';\nimport { Provider, Slot } from './states/title';\nimport routes from './config/routes';\n\nfunction App() {\n  return (\n    <CombineProviders\n      contexts={[\n        [Router, { basename: process.env.NODE_ENV === 'production' ? '/layout-gen/simple' : '/' }],\n        AppThemeProvider,\n        Provider,\n      ]}\n    >\n      <RedirectComponent />\n      <AppWrapper>\n        <Navbar>\n          <Typography variant=\"h4\">\n            <Slot />\n          </Typography>\n          <Settings />\n        </Navbar>\n        <Switch>\n          {routes\n            .filter(({ route }) => !!route)\n            .map(({ id, Component, route }) => (\n              <Route exact path={route} component={Component} key={id} />\n            ))}\n          {routes\n            .filter(({ route }) => !route)\n            .map(({ id, Component }) => (\n              <Route path=\"/\" component={Component} key={id} />\n            ))}\n        </Switch>\n      </AppWrapper>\n    </CombineProviders>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'typeface-roboto';\n\nimport App from './App';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}